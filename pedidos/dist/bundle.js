(()=>{"use strict";var e={818:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clientLine=void 0,t.clientLine=function(e){return`\n<div class="clientLine" id="client-${e.id}">\n  <div class="row border-top">\n    <div class="col fw-bold fst-italic">${e.nome}</div>\n  </div>\n  <div class="row border-bottom mb-1">\n    <div class="col">${e.id}</div>\n    <div class="col text-end mb-1">\n      <button type="button" class="btn btn-success p-0 px-2 addOrder" id="addOrder-${e.id}">\n        <i class="bi bi-plus"></i>\n      </button>\n      <button type="button" class="btn btn-primary p-0 px-2 viewAll" id="viewAll-${e.id}">\n        <i class="bi bi-list-task"></i>\n      </button>\n      <button type="button" class="btn btn-danger p-0 px-2 del" id="del-${e.id}">\n        <i class="bi bi-trash3-fill"></i>\n      </button>\n    </div>\n  </div>\n</div>`}},441:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.homeHeader=void 0,t.homeHeader=function(){return'\n<div class="d-flex justify-content-end m-0 mb-2 p-0 px-2">        \n  <button type="button" class="btn btn-primary p-1 px-2 mx-2" id="viewOrders">Histórico</button>\n  \n  <button type="button" class="btn btn-primary p-1 px-2" data-bs-toggle="modal" data-bs-target="#modal" id="register">\n    Cadastrar Cliente\n  </button>\n</div>\n\n<div class="d-flex justify-content-center m-0 mb-2 p-0 px-2">\n  <div class="input-group mb-3">\n    <span class="input-group-text" id="basic-addon1">Pesquisar</span>\n    <input type="text" class="form-control" placeholder="CPF/ CNPJ" id="searchIpt"/>\n  </div>  \n</div>\n\n<div class="container" id="pageContent"></div>'}},402:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.modalClose=t.modal=void 0,t.modal=function(e){document.getElementById("modalLabel").innerHTML=e.label,document.getElementById("modalBody").innerHTML=e.body,document.getElementById("modalFooter").innerHTML=e.footer},t.modalClose=function(){document.getElementById("modalClose").click()}},604:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.orderLine=void 0;const i=n(182);t.orderLine=function(e){return`\n        <div class="verPedido" id="${e.id}">\n          <div class="row border-top">\n            <div class="col-12">${e.cliente}</div>\n          </div>\n          <div class="row border-bottom mb-1">\n            <div class="col-3 text-center">${(0,i.maskDate)(e.data)}</div>\n            <div class="col-2">${e.id}</div>\n            <div class="col-4">R$ ${e.valor.toFixed(2)}</div>\n            <div class="col-3 text-end p-0 mb-1">\n              <button type="button" class="btn btn-danger p-0 px-2 del" id="del-${e.id}">\n                <i class="bi bi-trash3-fill"></i>\n              </button>\n              <button type="button" class="btn btn-primary p-0 px-2 view" id="view-${e.id}">\n                <i class="bi bi-eye-fill"></i>\n              </button>\n            </div>\n          </div>\n        </div>`}},45:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ordersHeader=void 0,t.ordersHeader=function(){return'\n      <div class="d-flex justify-content-around m-0 mb-2 p-0">\n        <button type="button" class="btn btn-primary" id="home">Início</button>\n        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal" id="filter">\n          Filtros\n        </button>\n      </div>\n\n      <div class="container" id="pageContent"></div>'}},469:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setClientFunctions=void 0;const i=n(685),o=n(80);t.setClientFunctions=function(e){!function(e){document.querySelectorAll(".del").forEach((t=>{t.addEventListener("click",(()=>{if(confirm("Deseja deletar o cliente?")){const n=e.find((e=>e.id===t.id.replace("del-",""))),r=e.indexOf(n);e.splice(r,1),(0,o.saveToStorage)("clients",e),(0,i.startHome)()}}))}))}(e),function(e){document.querySelectorAll(".addOrder").forEach((t=>{t.addEventListener("click",(()=>{if(confirm("Atribuir novo pedido ao cliente?")){const n=e.find((e=>e.id===t.id.replace("addOrder-","")));(0,o.saveToStorage)("selectedClient",n);const i="https://vivoli.vercel.app/";window.location.replace(`${i}?t=hist`)}}))}))}(e)}},903:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerClient=void 0;const i=n(402),o=n(685),r=n(80),a=n(986);t.registerClient=function(){(0,i.modal)({label:"Adicionar Cliente",body:'\n<div class="input-group mb-3">\n  <span class="input-group-text w-25" id="basic-addon1">Nome</span>\n  <input type="text" class="form-control" placeholder="Nome/ Razão Social" id="name">\n</div>\n\n<div class="input-group mb-3">\n  <span class="input-group-text w-25" id="basic-addon1">ID</span>\n  <input type="text" class="form-control" placeholder="CPF ou CNPJ" id="id">\n</div>',footer:'\n<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>\n<button type="button" class="btn btn-success" id="saveClient">Salvar</button>'}),document.getElementById("saveClient").addEventListener("click",(()=>{!function(){const e=document.getElementById("name"),t=document.getElementById("id");if(""===e.value)return alert("Informe o nome ou razão social"),void(0,a.invalidateInput)(e);if(""===t.value)return alert("Informe a identificação do cliente"),void(0,a.invalidateInput)(t);const n={nome:e.value,id:t.value},s=(0,r.getStorageData)("clients")||[];s.push(n),(0,r.saveToStorage)("clients",s),(0,i.modalClose)(),(0,o.startHome)()}()}))}},691:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchClient=void 0;const i=n(818),o=n(498),r=n(469);t.searchClient=function(e,t,n){const a=(0,o.removeInvalidChar)(e);if(n.innerHTML="",0===a.length)t.forEach((e=>{n.innerHTML+=(0,i.clientLine)(e)})),(0,r.setClientFunctions)(t);else{const e=[];t.filter((e=>(0,o.removeInvalidChar)(e.id).includes(a))).forEach((t=>e.push(t))),t.filter((e=>(0,o.removeInvalidChar)(e.nome).includes(a))).forEach((t=>e.push(t))),new Set(e).forEach((e=>{n.innerHTML+=(0,i.clientLine)(e)})),(0,r.setClientFunctions)(t)}}},685:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startHome=void 0;const i=n(818),o=n(441),r=n(469),a=n(903),s=n(691),l=n(80),d=n(190),c=n(884);t.startHome=function(){d.root.innerHTML=(0,o.homeHeader)();const e=document.getElementById("pageContent");e.innerHTML="";const t=(0,l.getStorageData)("clients")||[];t.forEach((t=>{e.innerHTML+=(0,i.clientLine)(t)})),(0,r.setClientFunctions)(t);const n=document.getElementById("searchIpt");n.addEventListener("keyup",(()=>{(0,s.searchClient)(n.value,t,e)})),document.getElementById("register").addEventListener("click",(()=>{(0,a.registerClient)()})),document.getElementById("viewOrders").addEventListener("click",(()=>{(0,c.startOrders)()}))}},884:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startOrders=void 0;const i=n(604),o=n(45),r=n(80),a=n(190),s=n(685);t.startOrders=function(){const e=(0,r.getStorageData)("orders")||[];console.log(e),a.root.innerHTML=(0,o.ordersHeader)();const t=document.getElementById("pageContent");t.innerHTML="",e.forEach((e=>{t.innerHTML+=(0,i.orderLine)(e)})),document.getElementById("home").addEventListener("click",(()=>{(0,s.startHome)()})),document.getElementById("filter").addEventListener("click",(()=>{}))}},531:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startApp=void 0;const i=n(685);t.startApp=function(){(0,i.startHome)()}},80:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionStorageData=t.getStorageData=t.saveToSessionStorage=t.saveToStorage=void 0,t.saveToStorage=function(e,t){localStorage.setItem(e,JSON.stringify(t))},t.saveToSessionStorage=function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},t.getStorageData=function(e){return JSON.parse(localStorage.getItem(e))},t.getSessionStorageData=function(e){return JSON.parse(sessionStorage.getItem(e))}},986:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.invalidateInput=void 0,t.invalidateInput=function(e){e.classList.add("is-invalid"),e.focus(),e.addEventListener("change",(()=>{e.classList.remove("is-invalid")}))}},182:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.maskDate=t.maskCPF=t.maskBirth=t.maskCep=t.maskPhone=void 0,t.maskPhone=function(e){const t=e.replace(/\D/g,"");return 10==t.length?`(${t.slice(0,2)}) ${t.slice(2,6)}-${t.slice(6)}`:11==t.length?`(${t.slice(0,2)}) ${t.slice(2,3)} ${t.slice(3,7)}-${t.slice(7)}`:String(t)},t.maskCep=function(e){const t=e.replace(/\D/g,"");return`${t.slice(0,2)} ${t.slice(2,5)}-${t.slice(5)}`},t.maskBirth=function(e){const t=e.replace(/\D/g,"");return`${t.slice(0,2)}/${t.slice(2,4)}/${t.slice(4)}`},t.maskCPF=function(e){if(14===e.length){const t=e.replace(/\D/g,"");return`${t.slice(0,2)}.${t.slice(2,5)}.${t.slice(5,8)}/${t.slice(8,12)}-${t.slice(12)}`}{const t=e.replace(/\D/g,"");return`${t.slice(0,3)}.${t.slice(3,6)}.${t.slice(6,9)}-${t.slice(9)}`}},t.maskDate=function(e){const t=e.replace(/\D/g,"");return`${t.slice(0,2)}/${t.slice(2,4)}/${t.slice(4)}`}},498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeInvalidCharPhone=t.removeInvalidChar=void 0,t.removeInvalidChar=function(e){return e.toLowerCase().replace("á","a").replace("â","a").replace("à","a").replace("ã","a").replace("é","e").replace("ê","e").replace("í","i").replace("ó","o").replace("ô","o").replace("ú","u").replace("ü","u").replace("ç","c").replace("/","").replace("-","").replace(".","").replace(".","")},t.removeInvalidCharPhone=function(e){return e.toLowerCase().replace("(","").replace(")","").replace(" ","").replace(" ","").replace(" ","").replace("-","").replace("-","").replace("-","")}},190:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.root=void 0,t.root=document.getElementById("content")}},t={};(0,function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}(531).startApp)()})();